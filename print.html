<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Ecam Eurobot</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        

        
        <!-- MathJax -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <noscript>
            <style type="text/css">
                .javascript-only {
                    display: none;
                }
            </style>
        </noscript>

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme;
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="introduction.html">Introduction</a></li><li><a href="mechanical/mechanical.html"><strong aria-hidden="true">1.</strong> Mechanical</a></li><li><ol class="section"><li><a href="mechanical/fusion.html"><strong aria-hidden="true">1.1.</strong> 3D modeling with Fusion360</a></li><li><a href="mechanical/3d-print.html"><strong aria-hidden="true">1.2.</strong> 3D printing</a></li><li><a href="mechanical/mecanum.html"><strong aria-hidden="true">1.3.</strong> Mecanum wheels</a></li><li><a href="mechanical/2018/lift.html"><strong aria-hidden="true">1.4.</strong> 2018 specifics</a></li><li><ol class="section"><li><a href="mechanical/2018/lift.html"><strong aria-hidden="true">1.4.1.</strong> Lift</a></li><li><a href="mechanical/2018/balls.html"><strong aria-hidden="true">1.4.2.</strong> Ball mechanism</a></li></ol></li></ol></li><li><a href="electronics/electronics.html"><strong aria-hidden="true">2.</strong> Electronics</a></li><li><ol class="section"><li><a href="electronics/actuators/actuators.html"><strong aria-hidden="true">2.1.</strong> Actuators</a></li><li><ol class="section"><li><a href="electronics/actuators/dynamixels.html"><strong aria-hidden="true">2.1.1.</strong> Dynamixels</a></li></ol></li><li><a href="electronics/sensors/sensors.html"><strong aria-hidden="true">2.2.</strong> Sensors</a></li><li><ol class="section"><li><a href="electronics/sensors/sonar.html"><strong aria-hidden="true">2.2.1.</strong> Sonar</a></li></ol></li><li><a href="electronics/pcb.html"><strong aria-hidden="true">2.3.</strong> PCB Design</a></li><li><a href="electronics/fpga.html"><strong aria-hidden="true">2.4.</strong> FPGA</a></li><li><a href="electronics/communication/communication.html"><strong aria-hidden="true">2.5.</strong> Communication</a></li><li><ol class="section"><li><a href="electronics/communication/i2c.html"><strong aria-hidden="true">2.5.1.</strong> I2C</a></li><li><a href="electronics/communication/spi.html"><strong aria-hidden="true">2.5.2.</strong> SPI</a></li><li><a href="electronics/communication/can.html"><strong aria-hidden="true">2.5.3.</strong> CAN</a></li></ol></li></ol></li><li><a href="software/software.html"><strong aria-hidden="true">3.</strong> Software</a></li><li><ol class="section"><li><a href="software/ros/ros.html"><strong aria-hidden="true">3.1.</strong> ROS</a></li><li><ol class="section"><li><a href="software/ros/install.html"><strong aria-hidden="true">3.1.1.</strong> Install</a></li><li><a href="software/ros/basics/basics.html"><strong aria-hidden="true">3.1.2.</strong> Basic concepts</a></li><li><ol class="section"><li><a href="software/ros/basics/workspace.html"><strong aria-hidden="true">3.1.2.1.</strong> Workspace setup</a></li><li><a href="software/ros/basics/sub.html"><strong aria-hidden="true">3.1.2.2.</strong> Subscriber</a></li><li><a href="software/ros/basics/pub.html"><strong aria-hidden="true">3.1.2.3.</strong> Publisher</a></li><li><a href="software/ros/basics/launch.html"><strong aria-hidden="true">3.1.2.4.</strong> Launchfiles</a></li><li><a href="software/ros/basics/params.html"><strong aria-hidden="true">3.1.2.5.</strong> ROS parameters</a></li></ol></li><li><a href="software/ros/advanced/advanced.html"><strong aria-hidden="true">3.1.3.</strong> Advanced concepts</a></li><li><ol class="section"><li><a href="software/ros/advanced/custom-msgs.html"><strong aria-hidden="true">3.1.3.1.</strong> Custom messages</a></li><li><a href="software/ros/advanced/model.html"><strong aria-hidden="true">3.1.3.2.</strong> Robot model</a></li><li><a href="software/ros/advanced/rviz.html"><strong aria-hidden="true">3.1.3.3.</strong> Rviz</a></li></ol></li><li><a href="software/ros/rosserial.html"><strong aria-hidden="true">3.1.4.</strong> ROS and Arduino</a></li><li><a href="software/ros/packages/packages.html"><strong aria-hidden="true">3.1.5.</strong> Useful packages</a></li><li><ol class="section"><li><a href="software/ros/packages/map.html"><strong aria-hidden="true">3.1.5.1.</strong> Map Server</a></li><li><a href="software/ros/packages/nav.html"><strong aria-hidden="true">3.1.5.2.</strong> Navigation stack</a></li></ol></li></ol></li><li><a href="software/image-processing.html"><strong aria-hidden="true">3.2.</strong> Image processing</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons javascript-only">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Ecam Eurobot</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="searchbar-outer" class="searchbar-outer">
                    <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </div>
                <div id="searchresults-outer" class="searchresults-outer">
                    <div class="searchresults-header" id="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="print.html#introduction" id="introduction"><h1>Introduction</h1></a>
<a class="header" href="print.html#a1-getting-in-touch-with-fusion360" id="a1-getting-in-touch-with-fusion360"><h1>1. Getting in touch with Fusion360</h1></a>
<p>Fusion360 is a 3D modeling software used by many professionals and hobbyists to create pieces. You can directly send your models to slicers in order to print them or export the 2D plans to build it your own. The following few chapters should give you a global overview of how Fusion360 works and what you can use it for. We'll try to orient our writing to learn your to design in order to print your models later and will end with some tips about the printing of your designs.</p>
<p>To complete your learning we strongly recommend you subscribe to <a href="https://www.youtube.com/channel/UCo29kn3d9ziFUZGZ50VKvWA">Lars Christensen's Youtube channel</a>. He's a master in the use of Fusion360 and has very well made videos about every problem of question you might have.</p>
<p>3 videos in particular should hold your attention to get started:
<a href="https://www.youtube.com/watch?v=A5bc9c3S12g"> Fusion 360 Tutorial for Absolute Beginners— Part 1</a> and of course <a href="https://www.youtube.com/watch?v=HXRMzJWo0-Q"> Fusion 360 Tutorial for Absolute Beginners— Part 2</a>  and <a href="https://www.youtube.com/watch?v=zS8dYA_Iluc&t=614s"> Fusion 360 Tutorial for Absolute Beginners— Part 3</a>.</p>
<a class="header" href="print.html#fusion360-environment" id="fusion360-environment"><h2>Fusion360 environment</h2></a>
<p>The first window you get when opening Fusion360 for the first time should be this.</p>
<p>By clicking on <img src="../img/mechanical/square.png" alt="img" /> you access to the repository holding all your folders.
A good practice is to sort them into other repositories according to their relevance.
<img src="../img/mechanical/FOLDERS.png" alt="FOLDERS" /></p>
<a class="header" href="print.html#project-view" id="project-view"><h2>Project view</h2></a>
<p><img src="../img/mechanical/Fusion1.png" alt="img" /></p>
<p>We'll let you listen to M.Christensen by clicking on the links of the videos we gave earlier to learn the basics of Fusion360. He's an expert on the subject and honestly the only good way to learn the kind of software is by watching someone do and copy. Please don't learn the shortcuts by heart, you'll learn the most used ones by practicing.</p>
<a class="header" href="print.html#a2-main-functions-and-shotcuts" id="a2-main-functions-and-shotcuts"><h1>2. Main Functions and Shotcuts</h1></a>
<p>You should already be able to do your first model now but in case of you misted some of the multiple things explained by &quot;Lars&quot;, we would like to give you a quick refresh.</p>
<p>To begin with, note that all function are easily available trough the &quot;s&quot; key shortcut. Just type some word related on what you are searching for and we are pretty sure that you'll find it fast. <em>Note that you can save them by clicking on the curved arrow.</em></p>
<a class="header" href="print.html#a21-shortcuts" id="a21-shortcuts"><h2>2.1. Shortcuts</h2></a>
<p>You don't have to study them but with your first hour of practice you should already know them. If it's still not the case, you'll find them here:</p>
<ul>
<li>S=Model Toolbox</li>
</ul>
<ul>
<li>L=Line</li>
<li>C=Circle</li>
<li>X=Construction</li>
<li>D=Dimension</li>
</ul>
<ul>
<li>Q=Push/Pull</li>
<li>M=Move</li>
<li>J=Joint</li>
<li>T=Trim (delete some lines)</li>
</ul>
<ul>
<li>center btn = Pan (move the view)</li>
<li>Maj+ center btn  = 3D move</li>
</ul>
<a class="header" href="print.html#a22-useful-functions" id="a22-useful-functions"><h2>2.2. Useful functions</h2></a>
<a class="header" href="print.html#offset" id="offset"><h3>Offset</h3></a>
<p>Offset is a very handy tool when it comes to draw parallel lines.
<img src="../img/mechanical/Offset1.png" alt="img" /></p>
<p>The tools works only in sketch mode and you have to already have a reference line (or a shape). Type the &quot;o&quot;
key to open the &quot;offset menu&quot;, you then have to select the reference line you want. You can either drag and drop the cursor with your mouse or type the value you wish the offset to be.
<img src="../img/mechanical/Offset_drag.png" alt="img" /><img src="../img/mechanical/OFFSET_VALUE.png" alt="img" />
You'll end with the line/shape you selected offset as you wanted.
<img src="../img/mechanical/Offset_finish.png" alt="img" /></p>
<a class="header" href="print.html#sweep" id="sweep"><h3>Sweep</h3></a>
<a class="header" href="print.html#revolve" id="revolve"><h3>Revolve</h3></a>
<p>Revolve allows you to create object as if you turned them on a lathe. It comes in handy to make wheels, cannons, ...
To used it you have to first create a shape around an axis. When you create that shape, you have to imagine it round. So you only have to draw &quot;a half cut in your future object&quot;.
<img src="../img/mechanical/Vase_shape.png" alt="img" />
Type &quot;s&quot; to access the &quot;search menu&quot; and enter &quot;revolve&quot; to see the tool. You'll have to select the shape and the axis you want and press &quot;enter&quot;.
<img src="../img/mechanical/vase_glass.png" alt="img" /></p>
<a class="header" href="print.html#appearance" id="appearance"><h3>Appearance</h3></a>
<p>To make design easier for others to imagine or simply to choose colors and material purely esthetically, the &quot;Appearance&quot; tool is a must! You can archive more or less the same result with the &quot;Physical Material&quot; tool, but this is more often used for simulation. You can also combine those tools to get for example a steel pipe covered in leather without having to create the wrapping in a component.
It is also very handy when creating complex assemblies with little pieces because the different appearance help to see those different pieces.</p>
<p>Appearance is really easy to use. Type &quot;a&quot;, choose the look you like and drag-drop it on the body you want. You can directly drop it in the project tree or on the visual objet.<br />
<img src="../img/mechanical/Appearance_tool.png" alt="img" /></p>
<a class="header" href="print.html#pattern" id="pattern"><h3>Pattern</h3></a>
<p>Real time savior, &quot;Pattern&quot; allows you to duplicate sketches, bodies and components on a given distance.
Multiple pattern tools exists. To see then go into the &quot;search menu&quot; and type &quot;Pattern&quot;.
<img src="../img/mechanical/multiple_patterns.png" alt="img" />
As you can see in the above picture, you can create a circular, rectangular or &quot;free style&quot; pattern.
For both rectangular and circular patterns the ones with white square create pattern in sketches. The grey ones create patterns of volumes (bodies, components). We'll only present the sketch pattern, but the volumes work in a similar way.</p>
<a class="header" href="print.html#rectangular-pattern" id="rectangular-pattern"><h4>Rectangular pattern</h4></a>
<p><img src="../img/mechanical/Pattern_open.png" alt="img" />
To apply rectangular patterns, select the desired shape and the amount of copies you want in the 2 directions. You can then enter (or drag-drop) the distance on which you want to copy that shape for both directions and click &quot;ok&quot;.
<img src="../img/mechanical/Rect_patt_1side.png" alt="img" />
<img src="../img/mechanical/Rect_patt_2side.png" alt="img" />
<img src="../img/mechanical/Rect_pattern_done.png" alt="img" /></p>
<a class="header" href="print.html#circular-pattern" id="circular-pattern"><h4>Circular pattern</h4></a>
<p>Circular patterns work in a similar way accept the fact you have to choose a center point and you can choose to make a complete revolution around it you on a given angle.
<img src="../img/mechanical/circ_patt-full.png" alt="img" />
<img src="../img/mechanical/circ_patt_angle.png" alt="img" /></p>
<a class="header" href="print.html#on-path" id="on-path"><h4>On path</h4></a>
<p>The 'On path pattern' tools allows you to create patterns that are nor circular, nor rectangular.
It only works with volumes and you have to enable the display of the sketch your path is in.</p>
<p><img src="../img/mechanical/patt_onpath_start.png" alt="img" />
<img src="../img/mechanical/Patt_ontpath_last.png" alt="img" />
<img src="../img/mechanical/Patt_onpath_done.png" alt="img" /></p>
<a class="header" href="print.html#mirror" id="mirror"><h3>Mirror</h3></a>
<a class="header" href="print.html#fillet" id="fillet"><h3>Fillet</h3></a>
<p>As you used it in Autocad or similars, Fillet allow you to joint two lines to make one curve.
In Fusion 360, as a 3D software, you'll also find the possibility to &quot;curve&quot; your 3D model.
<img src="../img/mechanical/Fillet_1.png" alt="img" /></p>
<figure>
  <figcaption>Fig. - First Fillet is for sketck and the second one for 3D model.</figcaption>
</figure>
<p>To use the sketch fillet, just select it and then click on the two lines to join.
<img src="../img/mechanical/Fillet_2.png" alt="img" /></p>
<p>In the 3D model, just select the ridge and with the arrow or value chose the size of your fillet.
<img src="../img/mechanical/Fillet_3.png" alt="img" />
<img src="../img/mechanical/Fillet_4.png" alt="img" /></p>
<a class="header" href="print.html#chamfer" id="chamfer"><h3>Chamfer</h3></a>
<p>In the same way of thinking than for the Fillet, you'll have the possibility to make some Chamfer.
<img src="../img/mechanical/Chamfer_1.png" alt="img" />
Select the tools and click on the ridge.
<img src="../img/mechanical/Chamfer_2.png" alt="img" />
You'll also be able to do it with a curved ridge (the one made with fillet)
<img src="../img/mechanical/Chamfer_3.png" alt="img" />
<img src="../img/mechanical/Chamfer_4.png" alt="img" />
<em>Note that in this case you'll be limited by the angle of the previous made fillet.</em></p>
<a class="header" href="print.html#mecanum-wheels" id="mecanum-wheels"><h1>Mecanum wheels</h1></a>
<p><img src="../img/mechanical/mecanum/mecanum.jpg" alt="Image of Mecanum Wheel" /></p>
<p>A mecanum wheel is a wheel with rollers attached at its circumference at an angle of typically 45°.
When four mecanum wheels are used together, we can achieve a net resulting direction in <strong>any</strong> direction by varying the direction and speed of rotation of the wheels.</p>
<a class="header" href="print.html#assembly" id="assembly"><h2>Assembly</h2></a>
<a class="header" href="print.html#wheel-adapter" id="wheel-adapter"><h3>Wheel adapter;</h3></a>
<p>To mount the wheels onto the motors, we need to use an adapter.
Due to an error in our order, we didn't receive the correct adapters and the ones we received didn't fit on the wheels.</p>
<p>We decided to 3D print our own as a replacement. The <a href="">STL file for this part can be found here</a>.</p>
<blockquote>
<p><strong>Note:</strong><br />
3D printing parts that will be under moderate or heavy mechanical stress is often not the best idea, because those parts will tend to break and/or wear out quickly.</p>
</blockquote>
<a class="header" href="print.html#wheel-orientation" id="wheel-orientation"><h3>Wheel orientation</h3></a>
<p>When assembling the wheels onto the robot, we need to pay attention to their orientation.
If we look from the top view, the rollers should all point to the center of the base.</p>
<p><img src="../img/mechanical/mecanum/mecanum-orientation.png" alt="" /></p>
<a class="header" href="print.html#kinematics" id="kinematics"><h2>Kinematics</h2></a>
<p><strong>Forward kinematics</strong> refers to the use of the kinematic equations of a robot to compute the position of the end-effector from specified values for the joint parameters. In our case, the forward kinematics allow us to compute the global velocity of the robots base when given the angular velocities of the individual wheels.</p>
<p>The reverse process that computes the joint parameters that achieve a specified position of the end-effector is known as <strong>inverse kinematics</strong>. The inverse kinematic equations allow us, in our case, to compute the individual wheel velocities needed to achieve a given base velocity.</p>
<p>The equations presented in the next sections come from the following research paper: <a href="https://research.ijcaonline.org/volume113/number3/pxc3901586.pdf">&quot;Kinematic Model of a Four Mecanum Wheeled Mobile Robot&quot;</a></p>
<a class="header" href="print.html#inverse-kinematics" id="inverse-kinematics"><h3>Inverse kinematics</h3></a>
<p>The inverse kinematic equations allow us to compute the indiviual wheel velocities when we want to achieve an overall base velocity.</p>
<ul>
<li>\(\omega_{fl}\), \(\omega_{fr}\), \(\omega_{rl}\) and \(\omega_{rr}\)  represent the <em>angular velocities</em> for the front left, front right, rear left and rear right wheel respectively.</li>
<li>\(v_x\) and \(v_y\) represent the robot's base linear velocity in the x and y direction respectively. The x direction is in front of the robot.</li>
<li>\(\omega_z\) is angular velocity of the robot's base around the z-axis.</li>
<li>\(l_x\) and \(l_y\) represent the distance from the robot's center to the wheels projected on the x and y axis respectively.</li>
</ul>
<!-- MathJax math equation -->
\[
    \left\{\begin{matrix}
    \omega_{fl} &= \frac{1}{r} \left[v_x - v_y - (l_x + l_y)\omega_z \right ] \\ 
    \omega_{fr} &= \frac{1}{r} \left[v_x + v_y + (l_x + l_y)\omega_z \right ] \\ 
    \omega_{rl} &= \frac{1}{r} \left[v_x + v_y - (l_x + l_y)\omega_z \right ] \\ 
    \omega_{rr} &= \frac{1}{r} \left[v_x - v_y + (l_x + l_y)\omega_z \right ] 
    \end{matrix}\right.
\]
<p>Or in matrix form:</p>
<!-- MathJax math equation -->
\[
    \begin{bmatrix}
    \omega_{fl} \\ 
    \omega_{fr}\\ 
    \omega_{rl}\\ 
    \omega_{rr}
    \end{bmatrix}
    =
    \frac{1}{r}
    \begin{bmatrix}
    1 & -1 & -(l_x + l_y) \\ 
    1 &  1 &  (l_x + l_y) \\ 
    1 &  1 & -(l_x + l_y) \\ 
    1 & -1 &  (l_x + l_y)
    \end{bmatrix}
    \begin{bmatrix}
    v_x\\ 
    v_y\\ 
    \omega_z
    \end{bmatrix}
\]
<a class="header" href="print.html#example" id="example"><h4>Example</h4></a>
<p>If we want to let the robot move diagonally at <code>0.22 m/s</code> in the x direction and <code>0.11 m/s</code> in the y direction. At what speed should we set the motors of each wheel?</p>
<p>The robot is 15 cm in width and 20 cm in length. The wheels are placed at the extremities and have a diameter of 60 mm.</p>
<hr />
<!-- MathJax math equation -->
\[
    \left\{\begin{matrix}
    \omega_{fl} &= \frac{1}{0.03} \left[0.22 - 0.11 - (0.2 + 0.15) \cdot 0 \right ] = 3.66 \; rad / s\\ 
    \omega_{fr} &= \frac{1}{0.03} \left[0.22 + 0.11 + (0.2 + 0.15) \cdot 0 \right ] = 11 \; rad / s \\ 
    \omega_{rl} &= \frac{1}{0.03} \left[0.22 + 0.11 - (0.2 + 0.15) \cdot 0 \right ] = 11 \; rad/s \\ 
    \omega_{rr} &= \frac{1}{0.03} \left[0.22 - 0.11 + (0.2 + 0.15) \cdot 0 \right ] =  3.66 \; rad/s
    \end{matrix}\right.
\]
<hr />
<a class="header" href="print.html#forward-kinematics" id="forward-kinematics"><h3>Forward kinematics</h3></a>
<p>The forward kinematic equations allow us to compute the robot's base velocity when given the individual wheel velocities. This is usefull to compute the robot's odometry using the motor's embedded quadrature encoders.</p>
<p><em>Odometry is the use of sensor data to estimate the change in position of the robot over time.</em></p>
<!-- MathJax math equation -->
\[
    \left\{\begin{matrix}
    v_x & = (\omega_{fl} + \omega_{fr} + \omega_{rl} + \omega_{rr}) \cdot \frac{r}{4}\\ 
    v_y & = (-\omega_{fl} + \omega_{fr} + \omega_{rl} - \omega_{rr}) \cdot \frac{r}{4}\\ 
    \omega_z & = (-\omega_{fl} + \omega_{fr} - \omega_{rl} + \omega_{rr}) \cdot \frac{r}{4(l_x + l_y)}
    \end{matrix}\right.
\]
<p>Or in matrix form:</p>
<!-- MathJax math equation -->
\[
    \begin{bmatrix}
    v_x\\ 
    v_y\\ 
    \omega_z
    \end{bmatrix}
    =
    \frac{r}{4}
    \begin{bmatrix}
    1 & 1 & 1 & 1\\ 
    -1 & 1 & 1 & -1\\ 
    -\frac{1}{(l_x+l_y)} & \frac{1}{(l_x+l_y)} & -\frac{1}{(l_x+l_y)}  & \frac{1}{(l_x+l_y)} 
    \end{bmatrix}
    \begin{bmatrix}
    \omega_{fl}\\ 
    \omega_{fr}\\ 
    \omega_{rl}\\ 
    \omega_{rr}
    \end{bmatrix}
\]<a class="header" href="print.html#ball-mechanism" id="ball-mechanism"><h1>Ball mechanism</h1></a>
<a class="header" href="print.html#ros" id="ros"><h1>ROS</h1></a>
<a class="header" href="print.html#ros-and-arduino" id="ros-and-arduino"><h1>ROS and Arduino</h1></a>
<a class="header" href="print.html#useful-packages" id="useful-packages"><h1>Useful packages</h1></a>
<a class="header" href="print.html#map-server" id="map-server"><h1>Map Server</h1></a>
<a class="header" href="print.html#navigation-stack" id="navigation-stack"><h1>Navigation stack</h1></a>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if (getComputedStyle(document.querySelector(".fa")).fontFamily !== "FontAwesome") {
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = '_FontAwesome/css/font-awesome.css';
                document.head.insertBefore(link, document.head.firstChild)
            }
        </script>

        

        

        

        
        <script src="searchindex.js" type="text/javascript" charset="utf-8"></script>
        
        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                window.print();
            })
        </script>
        

        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS script -->
        

    </body>
</html>
